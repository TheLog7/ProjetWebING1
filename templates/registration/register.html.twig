{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body_class %}register-page{% endblock %}


{% block body %}
<div class="form-container">
    {{ form_start(registrationForm, {'attr': {'class': 'custom-form'}}) }}
    
    <div class="form-grid">
        <div class="form-group">
            {{ form_row(registrationForm.nom, {
                'attr': {'class': 'form-input'},
                'row_attr': {'class': 'form-row'}
            }) }}
        </div>
        
        <div class="form-group">
            {{ form_row(registrationForm.prenom, {
                'attr': {'class': 'form-input'},
                'row_attr': {'class': 'form-row'}
            }) }}
        </div>
    </div>

    <div class="form-group">
        {{ form_row(registrationForm.email, {
            'attr': {'class': 'form-input'},
            'row_attr': {'class': 'form-row'}
        }) }}
    </div>

    <div class="form-group">
        {{ form_row(registrationForm.plainPassword, {
            'attr': {'class': 'form-input'},
            'row_attr': {'class': 'form-row'}
        }) }}
    </div>

    <div class="form-section">
        <div class="form-group">
            {{ form_row(registrationForm.age, {
                'attr': {'class': 'form-input'},
                'row_attr': {'class': 'form-row'}
            }) }}
        </div>

        <div class="form-group">
            {{ form_row(registrationForm.sexe, {
                'attr': {'class': 'form-radio'},
                'row_attr': {'class': 'form-row'}
            }) }}
        </div>

        <div class="form-group">
            {{ form_row(registrationForm.type, {
                'attr': {'class': 'form-select'},
                'row_attr': {'class': 'form-row'}
            }) }}
        </div>

        <div class="form-group">
            {{ form_row(registrationForm.photo, {
                'attr': {'class': 'form-file'},
                'row_attr': {'class': 'form-row'}
            }) }}
        </div>
    </div>
    
    <button type="submit" class="form-submit">S'inscrire</button>
    
    {{ form_end(registrationForm) }}
</div>

{% block javascripts %}
    {{ parent() }}
    <script>
        document.querySelector('.form-file input').addEventListener('change', function(e) {
            const fileName = e.target.files[0] ? e.target.files[0].name : 'Aucun fichier sélectionné';
            const hint = document.createElement('span');
            hint.className = 'file-hint';
            hint.textContent = fileName;
            
            const oldHint = e.target.parentElement.querySelector('.file-hint');
            if (oldHint) oldHint.remove();
            
            e.target.parentElement.appendChild(hint);
        });
    </script>
{% endblock %}
{% endblock %}